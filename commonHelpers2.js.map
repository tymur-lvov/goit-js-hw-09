{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const body = document.querySelector('body');\nconst form = document.createElement('form');\nform.classList.add('feedback-form');\nform.autocomplete = 'off';\nbody.append(form);\nform.innerHTML =\n  \"<label>Email<input type='email' name='email' autofocus /></label><label>Message<textarea name='message' rows='8'></textarea></label><button type='submit'>Submit</button>\";\n\nconst localStorageKey = 'feedback-form-state';\nlet feedbackFormState = {};\n\nif (localStorage.hasOwnProperty(localStorageKey)) {\n  feedbackFormState = JSON.parse(localStorage.getItem(localStorageKey));\n}\n\nform.addEventListener('input', event => {\n  const emailInput = event.currentTarget.elements.email.value;\n  const messageInput = event.currentTarget.elements.message.value;\n  const email = emailInput.trim();\n  const message = messageInput.trim();\n  feedbackFormState = { email, message };\n\n  localStorage.setItem(localStorageKey, JSON.stringify(feedbackFormState));\n});\n\nconst savedState = localStorage.getItem(localStorageKey);\nif (savedState !== null) {\n  const parsedfeedbackFormState = JSON.parse(\n    localStorage.getItem(localStorageKey)\n  );\n  form.elements.email.value = parsedfeedbackFormState.email;\n  form.elements.message.value = parsedfeedbackFormState.message;\n}\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  if (form.elements.email.value !== '' && form.elements.message.value !== '') {\n    console.log(feedbackFormState);\n    localStorage.removeItem(localStorageKey);\n    form.reset();\n  } else {\n    alert('Fields cannot be empty!');\n  }\n});\n"],"names":["body","form","localStorageKey","feedbackFormState","event","emailInput","messageInput","email","message","savedState","parsedfeedbackFormState"],"mappings":"oDAAA,MAAMA,EAAO,SAAS,cAAc,MAAM,EACpCC,EAAO,SAAS,cAAc,MAAM,EAC1CA,EAAK,UAAU,IAAI,eAAe,EAClCA,EAAK,aAAe,MACpBD,EAAK,OAAOC,CAAI,EAChBA,EAAK,UACH,4KAEF,MAAMC,EAAkB,sBACxB,IAAIC,EAAoB,CAAA,EAEpB,aAAa,eAAeD,CAAe,IAC7CC,EAAoB,KAAK,MAAM,aAAa,QAAQD,CAAe,CAAC,GAGtED,EAAK,iBAAiB,QAASG,GAAS,CACtC,MAAMC,EAAaD,EAAM,cAAc,SAAS,MAAM,MAChDE,EAAeF,EAAM,cAAc,SAAS,QAAQ,MACpDG,EAAQF,EAAW,OACnBG,EAAUF,EAAa,OAC7BH,EAAoB,CAAE,MAAAI,EAAO,QAAAC,GAE7B,aAAa,QAAQN,EAAiB,KAAK,UAAUC,CAAiB,CAAC,CACzE,CAAC,EAED,MAAMM,EAAa,aAAa,QAAQP,CAAe,EACvD,GAAIO,IAAe,KAAM,CACvB,MAAMC,EAA0B,KAAK,MACnC,aAAa,QAAQR,CAAe,CACxC,EACED,EAAK,SAAS,MAAM,MAAQS,EAAwB,MACpDT,EAAK,SAAS,QAAQ,MAAQS,EAAwB,OACxD,CAEAT,EAAK,iBAAiB,SAAUG,GAAS,CACvCA,EAAM,eAAc,EAChBH,EAAK,SAAS,MAAM,QAAU,IAAMA,EAAK,SAAS,QAAQ,QAAU,IACtE,QAAQ,IAAIE,CAAiB,EAC7B,aAAa,WAAWD,CAAe,EACvCD,EAAK,MAAK,GAEV,MAAM,yBAAyB,CAEnC,CAAC"}